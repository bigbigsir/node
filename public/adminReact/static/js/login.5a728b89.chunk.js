(this.webpackJsonpreact_admin=this.webpackJsonpreact_admin||[]).push([[3],{2338:function(e,a,t){e.exports={user:"user_user__19OoE",user__content:"user_user__content__1JwNP",user__title:"user_user__title__1WWu5",user__lang:"user_user__lang__KtXQb",header:"user_header__1sq_R",header__title:"user_header__title__3TSxz",header__logo:"user_header__logo__2i4Xy",header__subtitle:"user_header__subtitle__3cazf",footer:"user_footer__1nprT",footer__copyright:"user_footer__copyright__1A0F4",footer__links:"user_footer__links__13SVJ",footer__link:"user_footer__link__245Os",login__remember:"user_login__remember__2ZP98","login__link-register":"user_login__link-register__B6Jbj",login__captcha:"user_login__captcha__KEqzD","register__captcha-button":"user_register__captcha-button__3Z3Pr","register__popover-wrapper":"user_register__popover-wrapper__wqM1X","register__popover-placeholder":"user_register__popover-placeholder__3SQeD","register__popover-content":"user_register__popover-content__18QDj","register__progress-color":"user_register__progress-color__YXnpm",success:"user_success__2EKT4",exception:"user_exception__3rxVR",normal:"user_normal__3JjmY","register__password-tips":"user_register__password-tips__3CWqd"}},2342:function(e,a,t){"use strict";var r=t(0),s=t.n(r),n=t(2304);a.a=function(e){var a=e.labelId;return s.a.createElement(n.a,{id:"required",values:{label:s.a.createElement(n.a,{id:a})}})}},2343:function(e,a,t){"use strict";t.d(a,"c",(function(){return r})),t.d(a,"b",(function(){return s})),t.d(a,"a",(function(){return n}));var r=/^[0-9A-z]{6,16}$/,s=/^[\w-*/+.~!@#$%^&()]{6,20}$/,n=/^[A-z0-9]+([_.][A-z0-9]+)*@([A-z0-9-]+\.)+[A-z]{2,6}$/},2355:function(e,a,t){"use strict";t.r(a);var r=t(10),s=t(280),n=t(0),c=t.n(n),o=t(69),_=t(85),l=t(2279),i=t.n(l),u=t(2313),m=t(277),g=t(2320),p=t(2315),d=t(143),h=t(68),f=t(171),b=t(41),E=t(2323),j=t(2324),v=t(2325),I=t(157),O=t(173),w=t(282),S=t(2303),k=t(2304),y=t(2342),x=t(2343),M=t(2338),z=t.n(M),q=i.a.bind(z.a);a.default=function(){var e=Object(S.a)(),a=Object(_.e)(),t=Object(o.b)(),l=localStorage.getItem("admin_username")||"",i=Object(n.useState)(!1),M=Object(s.a)(i,2),z=M[0],C=M[1],N=Object(n.useState)(!!sessionStorage.getItem("checkCaptcha")),P=Object(s.a)(N,2),T=P[0],A=P[1],J=Object(n.useState)(!!l),L=Object(s.a)(J,2),F=L[0],R=L[1],V=Object(n.useState)(""),X=Object(s.a)(V,2),$=X[0],D=X[1],K=Object(n.useState)(""),Q=Object(s.a)(K,2),W=Q[0],Y=Q[1],Z=u.a.useForm(),B=Object(s.a)(Z,1)[0],H={username:l||"",password:"",captcha:"",captchaId:""},G=[{required:!0,message:c.a.createElement(y.a,{labelId:"user.login.username"})},{pattern:x.c,message:c.a.createElement(k.a,{id:"user.login.usernameReg"})}],U=[{required:!0,message:c.a.createElement(y.a,{labelId:"user.login.password"})},{pattern:x.b,message:c.a.createElement(k.a,{id:"user.login.passwordReg"})}],ee=[{required:T,message:c.a.createElement(y.a,{labelId:"user.login.captcha"})}];function ae(s){s=Object(r.a)(Object(r.a)({},s),{},{password:Object(I.a)(s.password),_isShowErrorTips:!1}),C(!0),D(""),t(Object(O.b)(s)).then((function(t){var r=t.success,n=t.message;C(!1),r?(a.replace("/"),function(e,a){e?localStorage.setItem("admin_username",a):localStorage.removeItem("admin_username")}(F,s.username),sessionStorage.removeItem("checkCaptcha"),m.a.success(e.formatMessage({id:"user.login.success"}))):(te(),D(n),A(!0),sessionStorage.setItem("checkCaptcha","true"))}))}function te(){T&&Object(w.getCaptcha)({_isNeedLoading:!1}).then((function(e){var a=e.data;e.success&&(Y(a.image),B.setFieldsValue({captchaId:a.captchaId}))}))}return Object(n.useEffect)(te,[T]),c.a.createElement("div",{className:q("login")},c.a.createElement("h3",{className:q("user__title")},e.formatMessage({id:"user.login.login"})),c.a.createElement(u.a,{name:"login",size:"large",form:B,initialValues:H,onFinish:function(e){return ae(e)}},$&&c.a.createElement(u.a.Item,{className:"Item"},c.a.createElement(g.a,{message:$,type:"error",showIcon:!0})),c.a.createElement(u.a.Item,{name:"username",rules:G},c.a.createElement(p.a,{maxLength:16,placeholder:e.formatMessage({id:"user.login.username"}),prefix:c.a.createElement(E.a,null)})),c.a.createElement(u.a.Item,{name:"password",rules:U},c.a.createElement(p.a.Password,{maxLength:20,visibilityToggle:!1,onPressEnter:function(){return B.submit()},prefix:c.a.createElement(j.a,null),placeholder:e.formatMessage({id:"user.login.password"})})),T&&c.a.createElement(u.a.Item,null,c.a.createElement(d.a,null,c.a.createElement(h.a,{span:15},c.a.createElement(u.a.Item,{name:"captcha",rules:ee,noStyle:!0},c.a.createElement(p.a,{maxLength:4,placeholder:e.formatMessage({id:"user.login.captcha"}),prefix:c.a.createElement(v.a,null)}))),c.a.createElement(h.a,{span:9},c.a.createElement("a",{onClick:te,dangerouslySetInnerHTML:{__html:W},className:q("login__captcha"),href:"javascript:void (0);"})))),c.a.createElement("div",{className:q("login__remember")},c.a.createElement(f.a,{checked:F,onChange:function(e){return R(e.target.checked)},name:"remember"},e.formatMessage({id:"user.login.remember"})),c.a.createElement("a",{style:{float:"right"},href:"javascript:void (0);"},e.formatMessage({id:"user.login.forgotPassword"}))),c.a.createElement(u.a.Item,{name:"captchaId",noStyle:!0},c.a.createElement(p.a,{onPressEnter:function(){return B.submit()},type:"hidden"})),c.a.createElement(u.a.Item,null,c.a.createElement(b.a,{loading:z,type:"primary",htmlType:"submit",block:!0},e.formatMessage({id:"user.login.login"})))),c.a.createElement("p",{className:q("login__link-register")},c.a.createElement("a",{onClick:function(){return a.push("/user/register")},href:"javascript:void (0);"},e.formatMessage({id:"user.login.register"}))))}}}]);
//# sourceMappingURL=login.5a728b89.chunk.js.map